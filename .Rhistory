temp1 = list.files(pattern="*.dta")
list2env(lapply(setNames(temp1, make.names(gsub("*.dta$","", temp1))), read_dta), envir = .GlobalEnv)
data <- View(read_dta("diabetes_s1.dta")) %>%
map(data, function(x) str_replace_all(x, "=", "")) %>%
map(data, function(x) str_replace_all(x,'[\"]', '')) %>%
as_tibble(data)
organize <- function(unorg_data){
org_data <- unorg_data %>%
pivot_longer(cols=c(-estimates),names_to="Race") %>%
pivot_wider(names_from=c(estimates))
org_data <- select(org_data, Race, b, pvalue, ll, ul)
return(org_data)
}
male_diabetes <- organize(diabetes_s1)
female_diabetes <- organize(diabetes_s2)
male_heartatk <- organize(heartatk_s1)
female_heartatk <- organize(heartatk_s2)
data <- bind_rows(male_diabetes, female_diabetes, male_heartatk, female_heartatk)
data <- data %>%
mutate(type=rep(c("Diabetes","Heart Attack"),each=6)) %>%
mutate(sex=rep(rep(c("Male","Female"),each=3),2))
library(tidyverse)
library(ggplot2)
library(readr)
library(haven)
library(purrr)
library(readxl)
temp1 = list.files(pattern="*.dta")
list2env(lapply(setNames(temp1, make.names(gsub("*.dta$","", temp1))), read_dta), envir = .GlobalEnv)
data <- View(read_dta("diabetes_s1.dta")) %>%
map(data, function(x) str_replace_all(x, "=", "")) %>%
map(data, function(x) str_replace_all(x,'[\"]', '')) %>%
as_tibble(data)
organize <- function(unorg_data){
org_data <- unorg_data %>%
pivot_longer(cols=c(-estimates),names_to="race") %>%
pivot_wider(names_from=c(estimates))
org_data <- select(org_data, race, b, pvalue, ll, ul)
return(org_data)
}
male_diabetes <- organize(diabetes_s1)
female_diabetes <- organize(diabetes_s2)
male_heartatk <- organize(heartatk_s1)
female_heartatk <- organize(heartatk_s2)
data <- bind_rows(male_diabetes, female_diabetes, male_heartatk, female_heartatk)
data <- data %>%
mutate(type=rep(c("Diabetes","Heart Attack"),each=6)) %>%
mutate(sex=rep(rep(c("Male","Female"),each=3),2))
library(tidyverse)
library(ggplot2)
library(readr)
library(haven)
library(purrr)
library(readxl)
temp1 = list.files(pattern="*.dta")
list2env(lapply(setNames(temp1, make.names(gsub("*.dta$","", temp1))), read_dta), envir = .GlobalEnv)
data <- View(read_dta("diabetes_s1.dta")) %>%
map(data, function(x) str_replace_all(x, "=", "")) %>%
map(data, function(x) str_replace_all(x,'[\"]', '')) %>%
as_tibble(data)
organize <- function(unorg_data){
org_data <- unorg_data %>%
pivot_longer(cols=c(-estimates),names_to="race") %>%
pivot_wider(names_from=c(estimates))
org_data <- select(org_data, race, b, pvalue, ll, ul)
return(org_data)
}
male_diabetes <- organize(diabetes_s1)
female_diabetes <- organize(diabetes_s2)
male_heartatk <- organize(heartatk_s1)
female_heartatk <- organize(heartatk_s2)
data <- bind_rows(male_diabetes, female_diabetes, male_heartatk, female_heartatk)
data <- data %>%
mutate(type=rep(c("Diabetes","Heart Attack"),each=6)) %>%
mutate(sex=rep(rep(c("Male","Female"),each=3),2))
data <- data %>%
mutate(race, .after=ul)
mutate(type=rep(c("Diabetes","Heart Attack"),each=6)) %>%
mutate(sex=rep(rep(c("Male","Female"),each=3),2))
data <- data %>%
mutate(race="", .after=ul)
mutate(type=rep(c("Diabetes","Heart Attack"),each=6)) %>%
mutate(sex=rep(rep(c("Male","Female"),each=3),2))
data <- data %>%
mutate(data,race, .after=ul)
mutate(type=rep(c("Diabetes","Heart Attack"),each=6)) %>%
mutate(sex=rep(rep(c("Male","Female"),each=3),2))
data <- data %>%
relocate(race, .after=ul)
mutate(type=rep(c("Diabetes","Heart Attack"),each=6)) %>%
mutate(sex=rep(rep(c("Male","Female"),each=3),2))
library(tidyverse)
library(ggplot2)
library(readr)
library(haven)
library(purrr)
library(readxl)
temp1 = list.files(pattern="*.dta")
list2env(lapply(setNames(temp1, make.names(gsub("*.dta$","", temp1))), read_dta), envir = .GlobalEnv)
data <- View(read_dta("diabetes_s1.dta")) %>%
map(data, function(x) str_replace_all(x, "=", "")) %>%
map(data, function(x) str_replace_all(x,'[\"]', '')) %>%
as_tibble(data)
organize <- function(unorg_data){
org_data <- unorg_data %>%
pivot_longer(cols=c(-estimates),names_to="race") %>%
pivot_wider(names_from=c(estimates))
org_data <- select(org_data, race, b, pvalue, ll, ul)
return(org_data)
}
male_diabetes <- organize(diabetes_s1)
female_diabetes <- organize(diabetes_s2)
male_heartatk <- organize(heartatk_s1)
female_heartatk <- organize(heartatk_s2)
data <- bind_rows(male_diabetes, female_diabetes, male_heartatk, female_heartatk)
data <- data %>%
relocate(race, .after=ul)
mutate(type=rep(c("Diabetes","Heart Attack"),each=6)) %>%
mutate(sex=rep(rep(c("Male","Female"),each=3),2))
library(tidyverse)
library(ggplot2)
library(readr)
library(haven)
library(purrr)
library(readxl)
temp1 = list.files(pattern="*.dta")
list2env(lapply(setNames(temp1, make.names(gsub("*.dta$","", temp1))), read_dta), envir = .GlobalEnv)
data <- View(read_dta("diabetes_s1.dta")) %>%
map(data, function(x) str_replace_all(x, "=", "")) %>%
map(data, function(x) str_replace_all(x,'[\"]', '')) %>%
as_tibble(data)
organize <- function(unorg_data){
org_data <- unorg_data %>%
pivot_longer(cols=c(-estimates),names_to="race") %>%
pivot_wider(names_from=c(estimates))
org_data <- select(org_data, race, b, pvalue, ll, ul)
return(org_data)
}
male_diabetes <- organize(diabetes_s1)
female_diabetes <- organize(diabetes_s2)
male_heartatk <- organize(heartatk_s1)
female_heartatk <- organize(heartatk_s2)
data <- bind_rows(male_diabetes, female_diabetes, male_heartatk, female_heartatk)
data <- data %>%
mutate(type=rep(c("Diabetes","Heart Attack"),each=6)) %>%
mutate(sex=rep(rep(c("Male","Female"),each=3),2))
data <- data %>%
relocate(race, .after=ul) %>%
mutate(type=rep(c("Diabetes","Heart Attack"),each=6)) %>%
mutate(sex=rep(rep(c("Male","Female"),each=3),2))
library(tidyverse)
library(ggplot2)
library(readr)
library(haven)
library(purrr)
library(readxl)
temp1 = list.files(pattern="*.dta")
list2env(lapply(setNames(temp1, make.names(gsub("*.dta$","", temp1))), read_dta), envir = .GlobalEnv)
data <- View(read_dta("diabetes_s1.dta")) %>%
map(data, function(x) str_replace_all(x, "=", "")) %>%
map(data, function(x) str_replace_all(x,'[\"]', '')) %>%
as_tibble(data)
organize <- function(unorg_data){
org_data <- unorg_data %>%
pivot_longer(cols=c(-estimates),names_to="race") %>%
pivot_wider(names_from=c(estimates))
org_data <- select(org_data, race, b, pvalue, ll, ul)
return(org_data)
}
male_diabetes <- organize(diabetes_s1)
female_diabetes <- organize(diabetes_s2)
male_heartatk <- organize(heartatk_s1)
female_heartatk <- organize(heartatk_s2)
data <- bind_rows(male_diabetes, female_diabetes, male_heartatk, female_heartatk)
data <- data %>%
mutate(race, .after=ul) %>%
mutate(type=rep(c("Diabetes","Heart Attack"),each=6)) %>%
mutate(sex=rep(rep(c("Male","Female"),each=3),2))
library(tidyverse)
library(ggplot2)
library(readr)
library(haven)
library(purrr)
library(readxl)
temp1 = list.files(pattern="*.dta")
list2env(lapply(setNames(temp1, make.names(gsub("*.dta$","", temp1))), read_dta), envir = .GlobalEnv)
data <- View(read_dta("diabetes_s1.dta")) %>%
map(data, function(x) str_replace_all(x, "=", "")) %>%
map(data, function(x) str_replace_all(x,'[\"]', '')) %>%
as_tibble(data)
organize <- function(unorg_data){
org_data <- unorg_data %>%
pivot_longer(cols=c(-estimates),names_to="race") %>%
pivot_wider(names_from=c(estimates))
org_data <- select(org_data, race, b, pvalue, ll, ul)
return(org_data)
}
male_diabetes <- organize(diabetes_s1)
female_diabetes <- organize(diabetes_s2)
male_heartatk <- organize(heartatk_s1)
female_heartatk <- organize(heartatk_s2)
data <- bind_rows(male_diabetes, female_diabetes, male_heartatk, female_heartatk)
data <- data %>%
mutate(race, .after=ul) %>%
mutate(type=rep(c("Diabetes","Heart Attack"),each=6)) %>%
mutate(sex=rep(rep(c("Male","Female"),each=3),2))
data <- data %>%
relocate(race, .after=ul) %>%
mutate(type=rep(c("Diabetes","Heart Attack"),each=6)) %>%
mutate(sex=rep(rep(c("Male","Female"),each=3),2))
data
data_diabetes <- slice(1:6,)
data_diabetes <- slice(1:6)
data_diabetes <- slice(data_diabetes,1:6)
data_diabetes <- slice(data,1:6)
View(data_diabetes)
data_diabetes <- slice(data,1:6)
data_heartatk <- slice[data,7:12]
View(data)
data_heartatk <- slice(data,7:12)
View(data_heartatk)
plot_diabetes <- data_diabetes %>%
ggplot(aes(x=race, y=b,colour=sex,group=sex)) +
geom_pointrange(aes(x=race, y=b, ymin=ll, ymax=ul),position=position_dodge(0.3),size=1.05)+
labs(y="Marginal Probabilities", x="Race",title="Risk of Diabetes",colour='', shape='')+theme_bw()
plot_heartatk <- data_heartatk %>%
ggplot(aes(x=race, y=b,colour=sex,group=sex)) +
geom_pointrange(aes(x=race, y=b, ymin=ll, ymax=ul),position=position_dodge(0.3),size=1.05)+
labs(y="Marginal Probabilities", x="Race",title="Risk of Heart Attack",colour='', shape='')+theme_bw()
plot(plot_diabetes)
plot(plot_heartatk)
data_heartatk <- filter(data, type=="Heart Attack")
source("~/GitLab/Ramsey Onboarding/Tidy_training.R", echo=TRUE)
View(data_diabetes)
source("~/GitLab/Ramsey Onboarding/Tidy_training.R", echo=TRUE)
View(data)
help lm
model_diabetes <- lm(Y~X, data_diabetes)
model_diabetes <- lm(y~x, data_diabetes)
View(data_diabetes)
View(data_heartatk)
model_diabetes <- lm(type~race, data_diabetes)
model_diabetes <- lm(b~race, data_diabetes)
View(model_diabetes)
model_heartatk <- glm(b~race, data_heartatk)
model_heartatk <- glm(b~race, gaussian, data_heartatk)
View(model_heartatk)
model_heartatk <- glm(b~race, binomial, data_heartatk)
model_heartatk <- glm(b~race, gaussian, data_heartatk)
model_heartatk <- glm(b~race, linear, data_heartatk)
summary(model_diabetes)
View(data)
summary(model_heartatk)
summary(model_diabetes)
View(model_diabetes)
summary(model_diabetes)
abline(model_diabetes, col="blue")
plot(model_diabetes)
plot(model_diabetes)
plot(plot_diabetes)
plot(plot_heartatk)
temp1 = list.files(pattern="*.dta")
list2env(lapply(setNames(temp1, make.names(gsub("*.dta$","", temp1))), read_dta), envir = .GlobalEnv)
organize <- function(unorg_data){
org_data <- unorg_data %>%
pivot_longer(cols=c(-estimates),names_to="race") %>%
pivot_wider(names_from=c(estimates))
org_data <- select(org_data, race, b, pvalue, ll, ul)
return(org_data)
}
View(data)
temp1 = list.files(pattern="*.dta")
list2env(lapply(setNames(temp1, make.names(gsub("*.dta$","", temp1))), read_dta), envir = .GlobalEnv)
organize <- function(unorg_data){
org_data <- unorg_data %>%
pivot_longer(cols=c(-estimates),names_to="race") %>%
pivot_wider(names_from=c(estimates))
org_data <- select(org_data, race, b, pvalue, ll, ul)
return(org_data)
}
male_diabetes <- organize(diabetes_s1)
female_diabetes <- organize(diabetes_s2)
male_heartatk <- organize(heartatk_s1)
female_heartatk <- organize(heartatk_s2)
data <- data %>%
bind_rows(male_diabetes, female_diabetes, male_heartatk, female_heartatk) %>%
relocate(race, .after=ul) %>%
mutate(type=rep(c("Diabetes","Heart Attack"),each=6)) %>%
mutate(sex=rep(rep(c("Male","Female"),each=3),2))
data_diabetes <- filter(data, type=="Diabetes")
data_heartatk <- filter(data, type=="Heart Attack")
data = list.files(pattern="*.dta")
list2env(lapply(setNames(temp1, make.names(gsub("*.dta$","", data))), read_dta), envir = .GlobalEnv)
organize <- function(unorg_data){
org_data <- unorg_data %>%
pivot_longer(cols=c(-estimates),names_to="race") %>%
pivot_wider(names_from=c(estimates))
org_data <- select(org_data, race, b, pvalue, ll, ul)
return(org_data)
}
male_diabetes <- organize(diabetes_s1)
female_diabetes <- organize(diabetes_s2)
male_heartatk <- organize(heartatk_s1)
female_heartatk <- organize(heartatk_s2)
data <- data %>%
bind_rows(male_diabetes, female_diabetes, male_heartatk, female_heartatk) %>%
relocate(race, .after=ul) %>%
mutate(type=rep(c("Diabetes","Heart Attack"),each=6)) %>%
mutate(sex=rep(rep(c("Male","Female"),each=3),2))
data_diabetes <- filter(data, type=="Diabetes")
data_heartatk <- filter(data, type=="Heart Attack")
data = list.files(pattern="*.dta")
list2env(lapply(setNames(data, make.names(gsub("*.dta$","", data))), read_dta), envir = .GlobalEnv)
organize <- function(unorg_data){
org_data <- unorg_data %>%
pivot_longer(cols=c(-estimates),names_to="race") %>%
pivot_wider(names_from=c(estimates))
org_data <- select(org_data, race, b, pvalue, ll, ul)
return(org_data)
}
male_diabetes <- organize(diabetes_s1)
female_diabetes <- organize(diabetes_s2)
male_heartatk <- organize(heartatk_s1)
female_heartatk <- organize(heartatk_s2)
data <- data %>%
bind_rows(male_diabetes, female_diabetes, male_heartatk, female_heartatk) %>%
relocate(race, .after=ul) %>%
mutate(type=rep(c("Diabetes","Heart Attack"),each=6)) %>%
mutate(sex=rep(rep(c("Male","Female"),each=3),2))
data_diabetes <- filter(data, type=="Diabetes")
data_heartatk <- filter(data, type=="Heart Attack")
View(male_heartatk)
data = list.files(pattern="*.dta")
list2env(lapply(setNames(data, make.names(gsub("*.dta$","", data))), read_dta), envir = .GlobalEnv)
data <- as_tibble(data)
organize <- function(unorg_data){
org_data <- unorg_data %>%
pivot_longer(cols=c(-estimates),names_to="race") %>%
pivot_wider(names_from=c(estimates))
org_data <- select(org_data, race, b, pvalue, ll, ul)
return(org_data)
}
male_diabetes <- organize(diabetes_s1)
female_diabetes <- organize(diabetes_s2)
male_heartatk <- organize(heartatk_s1)
female_heartatk <- organize(heartatk_s2)
data <- data %>%
bind_rows(male_diabetes, female_diabetes, male_heartatk, female_heartatk) %>%
relocate(race, .after=ul) %>%
mutate(type=rep(c("Diabetes","Heart Attack"),each=6)) %>%
mutate(sex=rep(rep(c("Male","Female"),each=3),2))
data_diabetes <- filter(data, type=="Diabetes")
data_heartatk <- filter(data, type=="Heart Attack")
temp1 = list.files(pattern="*.dta")
list2env(lapply(setNames(temp1, make.names(gsub("*.dta$","", temp1))), read_dta), envir = .GlobalEnv)
data <-
map(data, function(x) str_replace_all(x, "=", "")) %>%
map(data, function(x) str_replace_all(x,'[\"]', '')) %>%
as_tibble(data)
organize <- function(unorg_data){
org_data <- unorg_data %>%
pivot_longer(cols=c(-estimates),names_to="race") %>%
pivot_wider(names_from=c(estimates))
org_data <- select(org_data, race, b, pvalue, ll, ul)
return(org_data)
}
male_diabetes <- organize(diabetes_s1)
female_diabetes <- organize(diabetes_s2)
male_heartatk <- organize(heartatk_s1)
female_heartatk <- organize(heartatk_s2)
data <- data %>%
bind_rows(male_diabetes, female_diabetes, male_heartatk, female_heartatk) %>%
relocate(race, .after=ul) %>%
mutate(type=rep(c("Diabetes","Heart Attack"),each=6)) %>%
mutate(sex=rep(rep(c("Male","Female"),each=3),2))
data_diabetes <- filter(data, type=="Diabetes")
data_heartatk <- filter(data, type=="Heart Attack")
data <- bind_rows(male_diabetes, female_diabetes, male_heartatk, female_heartatk) %>%
data <- bind_rows(male_diabetes, female_diabetes, male_heartatk, female_heartatk)
data <- bind_rows(male_diabetes, female_diabetes, male_heartatk, female_heartatk)
View(data)
data <- data %>%
relocate(race, .after=ul) %>%
mutate(type=rep(c("Diabetes","Heart Attack"),each=6)) %>%
mutate(sex=rep(rep(c("Male","Female"),each=3),2))
data_diabetes <- filter(data, type=="Diabetes")
data_heartatk <- filter(data, type=="Heart Attack")
temp1 = list.files(pattern="*.dta")
list2env(lapply(setNames(temp1, make.names(gsub("*.dta$","", temp1))), read_dta), envir = .GlobalEnv)
data <-
map(data, function(x) str_replace_all(x, "=", "")) %>%
map(data, function(x) str_replace_all(x,'[\"]', '')) %>%
as_tibble(data)
organize <- function(unorg_data){
org_data <- unorg_data %>%
pivot_longer(cols=c(-estimates),names_to="race") %>%
pivot_wider(names_from=c(estimates))
org_data <- select(org_data, race, b, pvalue, ll, ul)
return(org_data)
}
male_diabetes <- organize(diabetes_s1)
female_diabetes <- organize(diabetes_s2)
male_heartatk <- organize(heartatk_s1)
female_heartatk <- organize(heartatk_s2)
data <- bind_rows(male_diabetes, female_diabetes, male_heartatk, female_heartatk)
data <- data %>%
relocate(race, .after=ul) %>%
mutate(type=rep(c("Diabetes","Heart Attack"),each=6)) %>%
mutate(sex=rep(rep(c("Male","Female"),each=3),2))
data_diabetes <- filter(data, type=="Diabetes")
data_heartatk <- filter(data, type=="Heart Attack")
temp1 = list.files(pattern="*.dta")
list2env(lapply(setNames(temp1, make.names(gsub("*.dta$","", temp1))), read_dta), envir = .GlobalEnv)
data <- View(read_dta("diabetes_s1.dta")) %>%
map(data, function(x) str_replace_all(x, "=", "")) %>%
map(data, function(x) str_replace_all(x,'[\"]', '')) %>%
as_tibble(data)
temp1 = list.files(pattern="*.dta")
list2env(lapply(setNames(temp1, make.names(gsub("*.dta$","", temp1))), read_dta), envir = .GlobalEnv)
organize <- function(unorg_data){
org_data <- unorg_data %>%
pivot_longer(cols=c(-estimates),names_to="race") %>%
pivot_wider(names_from=c(estimates))
org_data <- select(org_data, race, b, pvalue, ll, ul)
return(org_data)
}
male_diabetes <- organize(diabetes_s1)
female_diabetes <- organize(diabetes_s2)
male_heartatk <- organize(heartatk_s1)
female_heartatk <- organize(heartatk_s2)
data <- bind_rows(male_diabetes, female_diabetes, male_heartatk, female_heartatk)
data <- data %>%
relocate(race, .after=ul) %>%
mutate(type=rep(c("Diabetes","Heart Attack"),each=6)) %>%
mutate(sex=rep(rep(c("Male","Female"),each=3),2))
data_diabetes <- filter(data, type=="Diabetes")
data_heartatk <- filter(data, type=="Heart Attack")
temp1 = list.files(pattern="*.dta")
list2env(lapply(setNames(temp1, make.names(gsub("*.dta$","", temp1))), read_dta), envir = .GlobalEnv)
organize <- function(unorg_data){
org_data <- unorg_data %>%
pivot_longer(cols=c(-estimates),names_to="race") %>%
pivot_wider(names_from=c(estimates))
org_data <- select(org_data, race, b, pvalue, ll, ul)
return(org_data)
}
male_diabetes <- organize(diabetes_s1)
female_diabetes <- organize(diabetes_s2)
male_heartatk <- organize(heartatk_s1)
female_heartatk <- organize(heartatk_s2)
data <- bind_rows(male_diabetes, female_diabetes, male_heartatk, female_heartatk)
data <- data %>%
relocate(race, .after=ul) %>%
mutate(type=rep(c("Diabetes","Heart Attack"),each=6)) %>%
mutate(sex=rep(rep(c("Male","Female"),each=3),2))
data_diabetes <- filter(data, type=="Diabetes")
data_heartatk <- filter(data, type=="Heart Attack")
View(data)
temp1 = list.files(pattern="*.dta")
list2env(lapply(setNames(temp1, make.names(gsub("*.dta$","", temp1))), read_dta), envir = .GlobalEnv)
organize <- function(unorg_data){
org_data <- unorg_data %>%
pivot_longer(cols=c(-estimates),names_to="race") %>%
pivot_wider(names_from=c(estimates))
org_data <- select(org_data, race, b, pvalue, ll, ul)
return(org_data)
}
male_diabetes <- organize(diabetes_s1)
female_diabetes <- organize(diabetes_s2)
male_heartatk <- organize(heartatk_s1)
female_heartatk <- organize(heartatk_s2)
data <- bind_rows(male_diabetes, female_diabetes, male_heartatk, female_heartatk) %>%
data %>%
relocate(race, .after=ul) %>%
mutate(type=rep(c("Diabetes","Heart Attack"),each=6)) %>%
mutate(sex=rep(rep(c("Male","Female"),each=3),2))
data_diabetes <- filter(data, type=="Diabetes")
data_heartatk <- filter(data, type=="Heart Attack")
source("~/GitLab/Ramsey Onboarding/Tidy_training.R", echo=TRUE)
source("~/GitLab/Ramsey Onboarding/Tidy_training.R", echo=TRUE)
source("~/GitLab/Ramsey Onboarding/Tidy_training.R", echo=TRUE)
coef(model_diabetes)
coef(model_heartatk)
model_diabetes_lm <- lm(b~race, data_diabetes)
model_diabetes_glm <- glm(b~race, gaussian, data_diabetes)
model_heartatk_lm <- lm(b~race, data_heartatk)
model_heartatk_glm <- glm(b~race, gaussian, data_heartatk)
summary(model_diabetes_lm)
summary(model_diabetes_glm)
coef(model_diabetes_lm)
coef(model_diabetes_glm)
coef(model_heartatk_lm)
coef(model_heartatk_glm)
View(model_diabetes_lm)
model_diabetes_lm <- lm(b~sex, data_diabetes)
summary(model_diabetes_lm)
install.packages(emmeans)
install.packages("emmeans")
diabetes_est <- emmeans(model_diabetes, spec="race")
library(emmeans)
diabetes_est <- emmeans(model_diabetes, spec="race")
View(diabetes_est)
summary(diabetes_est)
m_tukey <- contrast(diabetes_est, method="pairwise")
summary(m_tukey)
confint(m_tukey)
View(data)
data <- data %>%
relocate(race, .after=type) %>%
mutate(type=rep(c("Diabetes","Heart Attack"),each=6)) %>%
mutate(sex=rep(rep(c("Male","Female"),each=3),2))
data_diabetes <- filter(data, type=="Diabetes")
